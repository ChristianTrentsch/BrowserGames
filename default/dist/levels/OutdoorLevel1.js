"use strict";import{gridCells as e,TILE_SIZE as r}from"../helpers/grid.js";import{resources as s}from"../Resource.js";import{Vector2 as i}from"../Vector2.js";import{Sprite as h}from"../Sprite.js";import{Level as g}from"../objects/Level/Level.js";import{Exit as v}from"../objects/Exit/Exit.js";import{Hero as L}from"../objects/Hero/Hero.js";import{Item as P}from"../objects/Item/Item.js";import{events as l,HERO_EXITS as I,CHANGE_LEVEL as E}from"../Events.js";import{CaveLevel1 as H}from"./CaveLevel1.js";import{SaveGame as a}from"../SaveGame.js";import{Tree as t}from"./parts/Tree/Tree.js";import{Stone as n}from"./parts/Stone/Stone.js";import{Square as o}from"./parts/Square/Square.js";import{Water as w}from"./parts/Water/Water.js";import{Bush as d}from"./parts/Bush/Bush.js";import{House as O}from"./parts/House/House.js";export class OutdoorLevel1 extends g{constructor({position:m,heroPosition:p}){super(m,"./sounds/levels/OutdoorLevel1.mp3",.4);this.defaultHeroPosition=new i(e(8),e(4));this.levelId="OutdoorLevel1";this.initBackgroundSound(),console.log("OutdoorLevel1 LOADED",this),this.background=new h({resource:s.images.outdoorSky,frameSize:new i(320,180),position:new i(0,0)});const C=new h({resource:s.images.outdoorGround,frameSize:new i(1600,900),position:new i(0,0)});this.addChild(C);const u=new v(e(10),e(3));this.addChild(u),this.addChild(new d(80,48)),this.addChild(new d(e(4),e(8))),this.addChild(new d(e(5),e(8))),this.addChild(new d(e(7),e(8))),this.addChild(new t(e(8),e(8))),this.addChild(new t(e(8),e(9))),this.addChild(new t(e(4),e(9))),this.addChild(new t(e(5),e(9))),this.addChild(new t(e(4),e(10))),this.addChild(new d(e(5),e(10))),this.addChild(new t(e(6),e(10))),this.addChild(new t(64,48)),this.addChild(new t(208,64)),this.addChild(new t(224,32)),this.addChild(new n(e(12),e(6))),this.addChild(new n(e(13),e(6))),this.addChild(new n(e(14),e(6))),this.addChild(new w(e(12),e(7))),this.addChild(new w(e(13),e(7))),this.addChild(new o(64,64)),this.addChild(new o(64,80)),this.addChild(new o(80,80)),this.addChild(new o(96,64)),this.addChild(new o(96,80)),this.addChild(new o(128,48)),this.addChild(new o(144,48)),this.addChild(new O(224,64)),this.heroStartPosition=a.loadHero(this.levelId,p??this.defaultHeroPosition);const f=new L(this.heroStartPosition.x,this.heroStartPosition.y);if(this.addChild(f),!a.isInInventory("rodPurple")){const S=new P(e(5),e(4),"rodPurple");this.addChild(S)}const c={right:this.generateWall(new i(1568,32),new i(1568,832),r,"right"),left:this.generateWall(new i(16,32),new i(16,832),r,"left"),top:this.generateWall(new i(32,16),new i(1568,16),r,"top"),bottom:this.generateWall(new i(32,848),new i(1568,848),r,"bottom")};this.walls=new Set(Object.values(c).flat())}ready(){l.on(I,this,()=>{this.stopBackgroundSound(),l.emit(E,new H({position:new i(e(0),e(0)),heroPosition:new i(e(5),e(2))}))})}}
