"use strict";import{GameObject as m}from"../../../GameObject.js";import{Sprite as s}from"../../../Sprite.js";import{Vector2 as e}from"../../../Vector2.js";import{resources as i}from"../../../Resource.js";import{getNextText as n}from"../../../helpers/levelPartsText.js";import{Item as a}from"../../../objects/Item/Item.js";export class Bush extends m{constructor(t,r,o=2){super(new e(t,r)),this.isSolid=!0,this.healthPoints=o;const h=new s({resource:i.images.shadow,frameSize:new e(32,32),position:new e(-8,-16)});this.addChild(h),this.bushSprite=new s({resource:i.images.outdoorBush,frameSize:new e(16,16),position:new e(0,0),hFrames:2,vFrames:1,frame:0}),this.addChild(this.bushSprite)}ready(){}step(t){this.healthPoints<=1&&(this.removeChild(this.bushSprite),this.bushSprite=new s({resource:i.images.outdoorBush,frameSize:new e(16,16),position:new e(0,0),hFrames:2,vFrames:1,frame:1}),this.addChild(this.bushSprite)),this.healthPoints<=0&&this.destroy(!0)}destroy(t=!1){t&&this.spawnItem(),super.destroy()}spawnItem(){const t=new a(this.position.x,this.position.y,"bushRessource","./sounds/items/pick_up_item.mp3",1);this.parent&&this.parent.addChild(t)}getContent(){return{portraitFrame:1,string:n("Bush")}}}
