"use strict";import{GameObject as n}from"../../../GameObject.js";import{Sprite as r}from"../../../Sprite.js";import{Vector2 as i}from"../../../Vector2.js";import{resources as o}from"../../../Resource.js";import{getNextText as m}from"../../../helpers/levelPartsText.js";import{Item as h}from"../../../objects/Item/Item.js";import{INVENTORY_STONE as p}from"../../../objects/Inventory/Inventory.js";export class Stone extends n{constructor(t,e,s=4){super(new i(t,e));this.type="stone";this.isSolid=!0,this.healthPoints=s,this.stoneSprite=new r({resource:o.images.outdoorStone,frameSize:new i(16,16),position:new i(0,0),hFrames:4,vFrames:1,frame:0}),this.addChild(this.stoneSprite)}ready(){}step(t){const e=4-this.healthPoints;e>=1&&e<=3&&(this.removeChild(this.stoneSprite),this.stoneSprite=new r({resource:o.images.outdoorStone,frameSize:new i(16,16),position:new i(0,0),hFrames:4,vFrames:1,frame:e}),this.addChild(this.stoneSprite)),this.healthPoints<=0&&this.destroy(!0)}destroy(t=!1){t&&this.spawnItem(),super.destroy()}spawnItem(){const t=new h(this.position.x,this.position.y,p,"./sounds/items/pick_up_item.mp3",1);this.parent&&this.parent.addChild(t)}getContent(){return{portraitFrame:0,string:m("Stone")}}}
