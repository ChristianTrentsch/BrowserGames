"use strict";import{gridCells as o}from"../helpers/grid.js";import{resources as t}from"../Resource.js";import{Vector2 as e}from"../Vector2.js";import{Sprite as i}from"../Sprite.js";import{Level as u}from"../objects/Level/Level.js";import{Exit as f}from"../objects/Exit/Exit.js";import{Hero as S}from"../objects/Hero/Hero.js";import{events as r,HERO_EXITS as v,CHANGE_LEVEL as C}from"../Events.js";import{OutdoorLevel1 as g}from"./OutdoorLevel1.js";import{Npc as s}from"../objects/Npc/Npc.js";import{Rod as b}from"../objects/Rod/Rod.js";export class CaveLevel1 extends u{constructor({position:n,heroPosition:d}){super(n),console.log("CaveLevel1 LOADED",this),this.background=new i({resource:t.images.cave,frameSize:new e(320,180),position:new e(0,0)});const h=new i({resource:t.images.caveGround,frameSize:new e(320,180),position:new e(0,0)});this.addChild(h);const a=new f(o(5),o(1));this.addChild(a),this.heroStartPosition=d??this.defaultHeroPosition;const c=new S(this.heroStartPosition.x,this.heroStartPosition.y);if(this.addChild(c),!this.isInInventory("rodRed")){const w=new b(o(10),o(6),"rodRed");this.addChild(w)}const m=new s(o(5),o(5),"Ich bin der Uwe und ich bin auch dabei!");this.addChild(m);const l=new s(o(10),o(4),"Ich will hier raauuuusss!");this.addChild(l);const p={right:[],left:[],top:[],bottom:[],tree:[],stone:[],squares:[],water:[],house:[]};this.walls=new Set(Object.values(p).flat())}ready(){r.on(v,this,()=>{r.emit(C,new g({position:new e(o(0),o(0)),heroPosition:new e(o(11),o(3))}))})}}
