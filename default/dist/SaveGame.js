"use strict";import{gridCells as o}from"./helpers/grid.js";import{Vector2 as s}from"./Vector2.js";export class SaveGame{static{this.inventoryKey="inventory"}static{this.equipmentKey="equipment"}static{this.heroKey="hero"}static{this.levelKey="currentLevel"}static{this.overlayKey="overlaySeen"}static{this.soundKey="sound"}static{this.inputKey="input"}static{this.resourceKey="resources"}static saveInventory(e){localStorage.setItem(this.inventoryKey,JSON.stringify(e))}static loadInventory(){const e=localStorage.getItem(this.inventoryKey);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}static clearInventory(){localStorage.removeItem(this.inventoryKey)}static isInInventory(e){const t=localStorage.getItem(this.inventoryKey);if(!t)return!1;try{return JSON.parse(t).some(r=>r.name===e)}catch(a){return console.warn("Fehler beim Lesen des Inventars:",a),!1}}static saveEquipment(e){localStorage.setItem(this.equipmentKey,JSON.stringify(e))}static loadEquipment(){const e=localStorage.getItem(this.equipmentKey);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}static clearEquipment(){localStorage.removeItem(this.equipmentKey)}static isInEquipment(e){const t=localStorage.getItem(this.equipmentKey);if(!t)return!1;try{return JSON.parse(t).some(r=>r.name===e)}catch(a){return console.warn("Fehler beim Lesen des Equipment:",a),!1}}static saveHero(e,t,a){const r={level:e,x:t.x,y:t.y,exp:a};localStorage.setItem(this.heroKey,JSON.stringify(r))}static loadHero(){const e=localStorage.getItem(this.heroKey);if(!e)return;const t=JSON.parse(e);return{level:t.level,pos:new s(t.x,t.y),exp:t.exp}}static clearHero(){localStorage.removeItem(this.heroKey)}static saveLevel(e){localStorage.setItem(this.levelKey,e)}static loadLevel(){return localStorage.getItem(this.levelKey)}static clearLevel(){localStorage.removeItem(this.levelKey)}static saveOverlay(e){localStorage.setItem(this.overlayKey,e)}static loadOverlay(){return localStorage.getItem(this.overlayKey)}static clearOverlay(){localStorage.removeItem(this.overlayKey)}static saveSound(e){localStorage.setItem(this.soundKey,e)}static loadSound(){return localStorage.getItem(this.soundKey)}static clearSound(){localStorage.removeItem(this.soundKey)}static saveInput(e){localStorage.setItem(this.inputKey,e)}static loadInput(){return localStorage.getItem(this.inputKey)}static clearInput(){localStorage.removeItem(this.inputKey)}static saveResources(e,t){const a=localStorage.getItem(this.resourceKey);let r={};if(a)try{r=JSON.parse(a)}catch(n){console.warn("Fehler beim Parsen der Resourcen:",n)}r[e]=t,localStorage.setItem(this.resourceKey,JSON.stringify(r))}static loadResources(e){const t=localStorage.getItem(this.resourceKey);if(!t)return[];try{return JSON.parse(t)[e]??[]}catch(a){return console.warn("Fehler beim Laden der Resourcen:",a),[]}}static clearResources(){localStorage.removeItem(this.resourceKey)}static clearAll(){const e=localStorage.getItem("alienHighscores");localStorage.clear(),e!==null&&localStorage.setItem("alienHighscores",e)}static initAll(){this.saveOverlay("false"),this.saveSound("on"),this.saveInput("keyboard"),this.saveLevel("OutdoorLevel1"),this.saveHero(0,new s(o(49),o(24)),0),this.saveResources("OutdoorLevel1",[]),this.saveResources("CaveLevel1",[]),this.saveEquipment([{id:1,name:"sword",amount:1,active:!0}])}}
