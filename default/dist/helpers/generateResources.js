"use strict";import{gridCells as h}from"../helpers/grid.js";function v(n){return function(){let e=n+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function g(n,e,o){return o?o.some(r=>n>=r.x1&&n<=r.x2&&e>=r.y1&&e<=r.y2):!1}export function generateDefaultResources(n){const{seed:e=42,width:o,height:r,tileSize:t=16,density:i={Tree:.015,Bush:.007,Stone:.002},pathZones:y=[],border:l=32}=n,a=v(e+n.levelId.length),x=Math.floor(o/t),S=Math.floor(r/t),b=[];for(let u=0;u<S;u++)for(let s=0;s<x;s++){const p=s*t,d=u*t;if(g(s,u,y)||p<l||p>o-l-t||d<l||d>r-l-t)continue;const c=a();if(c<i.Tree){const m=f(a,3,4,.1);b.push({type:"tree",x:h(s),y:h(u),hp:m})}else if(c<i.Tree+i.Bush){const m=f(a,2,2,.1);b.push({type:"bush",x:h(s),y:h(u),hp:m})}else if(c<i.Tree+i.Bush+i.Stone){const m=f(a,3,4,.1);b.push({type:"stone",x:h(s),y:h(u),hp:m})}}return b}function f(n,e,o,r=.1){let t=Math.floor(n()*(o-e+1))+e;return n()<r&&(n()<.5?t=Math.max(1,t-1):t=t+1),t}
