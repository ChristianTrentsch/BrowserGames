"use strict";import{Animations as s}from"../../Animations.js";import{FrameIndexPattern as n}from"../../FrameIndexPattern.js";import{GameObject as f}from"../../GameObject.js";import{getNextText as h}from"../../helpers/levelPartsText.js";import{resources as u}from"../../Resource.js";import{Sprite as d}from"../../Sprite.js";import{Vector2 as t}from"../../Vector2.js";export class Deko extends f{constructor(e,m,r){super(e);this.frame=0;this.frameSize=new t(16,16);this.hFrames=1;this.vFrames=1;this.contentType=null;this.makeIdleFrames=(e=0,m=5e3)=>({duration:m,frames:[{time:0,frame:e},{time:200,frame:e+1},{time:400,frame:e+2},{time:600,frame:e+3},{time:800,frame:e+2},{time:1e3,frame:e+1},{time:1200,frame:e}]});this.makeBushSmallFrames=(e=0,m=5e3)=>({duration:m,frames:[{time:0,frame:e},{time:150,frame:e+1},{time:300,frame:e+2},{time:450,frame:e}]});this.makeBushFrames=(e=0,m=5e3)=>({duration:m,frames:[{time:0,frame:0},{time:120,frame:1},{time:240,frame:2},{time:360,frame:1},{time:480,frame:0},{time:600,frame:3},{time:720,frame:4},{time:840,frame:3},{time:960,frame:0}]});this.makeWaterFrames=(e=0,m=2400)=>({duration:m,frames:[{time:0,frame:e},{time:300,frame:e+1},{time:600,frame:e+2},{time:900,frame:e+3},{time:1200,frame:e+4},{time:1500,frame:e+5},{time:1800,frame:e+6},{time:2100,frame:e+7}]});this.makeLampFrames=(e=0,m=600)=>({duration:m,frames:[{time:0,frame:e},{time:100,frame:e+1},{time:200,frame:e+2},{time:300,frame:e+3},{time:400,frame:e+2},{time:500,frame:e+1}]});this.makeTorchFrames=(e=0,m=600)=>({duration:m,frames:[{time:0,frame:e},{time:150,frame:e+1},{time:300,frame:e+2},{time:450,frame:e+3}]});this.frameIndexPattern=this.makeIdleFrames(0,r),this.drawLayer=null;let i=0,a=0;switch(m){case"animWater":this.hFrames=8,this.drawLayer="FLOOR",this.frameIndexPattern=this.makeWaterFrames(0,r),this.contentType="Water";break;case"animLamp":a=-16,this.isSolid=!0,this.frameSize=new t(16,32),this.hFrames=4,this.vFrames=1,this.frameIndexPattern=this.makeLampFrames(0,r),this.contentType="Lamp";break;case"animBushSmall":this.hFrames=3,this.frameIndexPattern=this.makeBushSmallFrames(0,r);break;case"animBush":this.hFrames=6;break;case"animTorch":this.isSolid=!0,this.hFrames=4,this.frameIndexPattern=this.makeTorchFrames();break}this.addChild(new d({position:new t(i,a),resource:u.images[m],frameSize:this.frameSize,hFrames:this.hFrames,vFrames:this.vFrames,frame:this.frame,animations:new s({dekoIdle:new n(this.frameIndexPattern)})}))}ready(){}getContent(){if(this.contentType)return{portraitFrame:0,string:h(this.contentType)}}}
