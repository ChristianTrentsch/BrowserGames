"use strict";import{GameObject as c}from"../../GameObject.js";import{Sprite as a}from"../../Sprite.js";import{Vector2 as n}from"../../Vector2.js";import{resources as r}from"../../Resource.js";import{events as i,HERO_POSTION as d,HERO_PICKS_UP_ITEM as p}from"../../Events.js";export const TREE="tree",STONE="stone",BUSH="bush",SWORD="sword",ROD_PURPLE="rodPurple",ROD_RED="rodRed";export class Item extends c{constructor(t,e,o,s="./sounds/items/pick_up_item_01.mp3",m=.7){super(new n(t,e)),this.itemKey=o,this.itemSound=new Audio(s),this.itemSound.volume=m;const u=Item.getCollectibleItemFrame(this.itemKey);this.addChild(new a({resource:r.images.collectible,position:new n(0,-5),hFrames:20,frame:u}))}ready(){i.on(d,this,t=>{const e=Math.round(t.x),o=Math.round(t.y);e===this.position.x&&o===this.position.y&&this.onCollideWithHero()})}onCollideWithHero(){i.unsubscribe(this),this.itemSound.pause(),this.itemSound.currentTime=0,this.destroy(),i.emit(p,{name:this.itemKey,image:r.images.collectible,position:this.position,itemSound:this.itemSound})}static getCollectibleItemFrame(t){let e;switch(t){case BUSH:e=11;break;case TREE:e=12;break;case STONE:e=13;break;case SWORD:e=0;break;case ROD_PURPLE:e=1;break;case ROD_RED:e=2;break;default:e=19;break}return e}}
