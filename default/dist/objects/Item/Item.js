"use strict";import{GameObject as d}from"../../GameObject.js";import{Sprite as h}from"../../Sprite.js";import{Vector2 as n}from"../../Vector2.js";import{resources as r}from"../../Resource.js";import{events as o,HERO_POSTION as p,HERO_PICKS_UP_ITEM as c}from"../../Events.js";export class Item extends d{constructor(e,i,t,s="./sounds/items/item_01.mp3",m=.7){super(new n(e,i)),this.itemKey=t,this.itemSound=new Audio(s),this.itemSound.volume=m;const u=new h({resource:r.images[t],position:new n(0,-5)});this.addChild(u)}ready(){o.on(p,this,e=>{const i=Math.round(e.x),t=Math.round(e.y);i===this.position.x&&t===this.position.y&&this.onCollideWithHero()})}onCollideWithHero(){o.unsubscribe(this),this.itemSound.pause(),this.itemSound.currentTime=0,this.destroy(),o.emit(c,{imageKey:this.itemKey,image:r.images[this.itemKey],position:this.position,itemSound:this.itemSound})}}
