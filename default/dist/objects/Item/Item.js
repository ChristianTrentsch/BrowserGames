"use strict";import{GameObject as d}from"../../GameObject.js";import{Sprite as p}from"../../Sprite.js";import{Vector2 as m}from"../../Vector2.js";import{resources as n}from"../../Resource.js";import{events as o,HERO_POSTION as h,HERO_PICKS_UP_ITEM as c}from"../../Events.js";export class Item extends d{constructor(t,i,e,r="./sounds/items/pick_up_item_01.mp3",s=.7){super(new m(t,i)),this.itemKey=e,this.itemSound=new Audio(r),this.itemSound.volume=s;const u=new p({resource:n.images[e],position:new m(0,-5)});this.addChild(u)}ready(){o.on(h,this,t=>{const i=Math.round(t.x),e=Math.round(t.y);i===this.position.x&&e===this.position.y&&this.onCollideWithHero()})}onCollideWithHero(){o.unsubscribe(this),this.itemSound.pause(),this.itemSound.currentTime=0,this.destroy(),o.emit(c,{imageKey:this.itemKey,image:n.images[this.itemKey],position:this.position,itemSound:this.itemSound})}}
