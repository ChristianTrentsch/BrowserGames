"use strict";import{GameObject as u}from"../../GameObject.js";import{Sprite as h}from"../../Sprite.js";import{Vector2 as i}from"../../Vector2.js";import{resources as r}from"../../Resource.js";import{events as n,HERO_POSTION as p,HERO_PICKS_UP_ITEM as y}from"../../Events.js";export class Item extends u{constructor(e,o,t,m,s=.7){super(new i(e,o)),this.itemKey=t,this.itemSound=new Audio(m),this.itemSound.volume=s;const d=new h({resource:r.images[t],position:new i(0,-5)});this.addChild(d)}ready(){n.on(p,this,e=>{const o=Math.round(e.x),t=Math.round(e.y);o===this.position.x&&t===this.position.y&&this.onCollideWithHero()})}onCollideWithHero(){this.destroy(),n.emit(y,{imageKey:this.itemKey,image:r.images[this.itemKey],position:this.position,itemSound:this.itemSound})}}
