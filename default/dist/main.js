"use strict";import{Main as d}from"./objects/Main/Main.js";import{Vector2 as n}from"./Vector2.js";import{OutdoorLevel1 as p}from"./levels/OutdoorLevel1.js";import{GameLoop as v}from"./GameLoop.js";import{gridCells as i}from"./helpers/grid.js";import{SaveGame as w}from"./SaveGame.js";import{levelRegistry as m}from"./helpers/levelRegistry.js";import{initUI as L}from"./helpers/uiManager.js";document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#game-canvas");if(t){const o=t.getContext("2d");if(o){console.log("ctx LOADED",o);const e=new d(new n(0,0));L(e);const c=s=>{e.stepEntry(s,e),e.input.update()},l=()=>{o.clearRect(0,0,t.width,t.height),e.drawBackground(o),o.save(),e.camera&&o.translate(e.camera.position.x,e.camera.position.y),e.drawObjects(o),o.restore(),e.drawForeground(o)},r=w.loadLevel();let a;if(r&&m[r]){const s=m[r];a=new s({position:new n(0,0)})}else a=new p({position:new n(0,0),heroPosition:new n(i(8),i(4))});e.setLevel(a),new v(c,l).start(),console.log("START GAME")}}});
