"use strict";import{Main as w}from"./objects/Main/Main.js";import{Vector2 as t}from"./Vector2.js";import{OutdoorLevel1 as L}from"./levels/OutdoorLevel1.js";import{GameLoop as f}from"./GameLoop.js";import{gridCells as l}from"./helpers/grid.js";import{SaveGame as i}from"./SaveGame.js";import{levelRegistry as c}from"./helpers/levelRegistry.js";const m=document.getElementById("closeOverlay"),d=document.getElementById("overlay"),v=document.getElementById("reset");m&&d&&m.addEventListener("click",()=>{d.style.visibility="hidden"}),v&&v.addEventListener("click",()=>{i.clearAll(),window.location.reload()});const n=document.querySelector("#game-canvas");if(n){const o=n.getContext("2d");if(o){console.log("ctx LOADED",o);const e=new w(new t(0,0)),p=a=>{e.stepEntry(a,e),e.input.update()},g=()=>{o.clearRect(0,0,n.width,n.height),e.drawBackground(o),o.save(),e.camera&&o.translate(e.camera.position.x,e.camera.position.y),e.drawObjects(o),o.restore(),e.drawForeground(o)},r=i.loadLevel();let s;if(r&&c[r]){const a=c[r];s=new a({position:new t(0,0)})}else s=new L({position:new t(0,0),heroPosition:new t(l(8),l(4))});e.setLevel(s),new f(p,g).start(),console.log("START GAME")}}else console.log("CANVAS NICHT GELADEN");
